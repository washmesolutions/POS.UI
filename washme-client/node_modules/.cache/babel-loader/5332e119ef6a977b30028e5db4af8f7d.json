{"remainingRequest":"F:\\GitWashMe\\washme-client\\node_modules\\thread-loader\\dist\\cjs.js!F:\\GitWashMe\\washme-client\\node_modules\\babel-loader\\lib\\index.js!F:\\GitWashMe\\washme-client\\node_modules\\eslint-loader\\index.js??ref--14-0!F:\\GitWashMe\\washme-client\\src\\router\\index.js","dependencies":[{"path":"F:\\GitWashMe\\washme-client\\src\\router\\index.js","mtime":1661182710722},{"path":"F:\\GitWashMe\\washme-client\\babel.config.js","mtime":1660375532796},{"path":"F:\\GitWashMe\\washme-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\GitWashMe\\washme-client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\GitWashMe\\washme-client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\GitWashMe\\washme-client\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgVnVlTWV0YSBmcm9tICd2dWUtbWV0YSc7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0YXRlL3N0b3JlJzsKaW1wb3J0IHJvdXRlcyBmcm9tICcuL3JvdXRlcyc7ClZ1ZS51c2UoVnVlUm91dGVyKTsKVnVlLnVzZShWdWVNZXRhLCB7CiAgLy8gVGhlIGNvbXBvbmVudCBvcHRpb24gbmFtZSB0aGF0IHZ1ZS1tZXRhIGxvb2tzIGZvciBtZXRhIGluZm8gb24uCiAga2V5TmFtZTogJ3BhZ2UnCn0pOwpjb25zdCByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICByb3V0ZXMsCiAgLy8gVXNlIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSAoaS5lLiBub3JtYWwtbG9va2luZyByb3V0ZXMpCiAgLy8gaW5zdGVhZCBvZiByb3V0ZXMgd2l0aCBoYXNoZXMgKGUuZy4gZXhhbXBsZS5jb20vIy9hYm91dCkuCiAgLy8gVGhpcyBtYXkgcmVxdWlyZSBzb21lIHNlcnZlciBjb25maWd1cmF0aW9uIGluIHByb2R1Y3Rpb246CiAgLy8gaHR0cHM6Ly9yb3V0ZXIudnVlanMub3JnL2VuL2Vzc2VudGlhbHMvaGlzdG9yeS1tb2RlLmh0bWwjZXhhbXBsZS1zZXJ2ZXItY29uZmlndXJhdGlvbnMKICBtb2RlOiAnaGlzdG9yeScsCgogIHNjcm9sbEJlaGF2aW9yKHRvLCBmcm9tLCBzYXZlZFBvc2l0aW9uKSB7CiAgICBpZiAoc2F2ZWRQb3NpdGlvbikgewogICAgICByZXR1cm4gc2F2ZWRQb3NpdGlvbjsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgeDogMCwKICAgICAgICB5OiAwCiAgICAgIH07CiAgICB9CiAgfQoKfSk7CnJvdXRlci5iZWZvcmVFYWNoKChyb3V0ZVRvLCByb3V0ZUZyb20sIG5leHQpID0+IHsKICBpZiAocHJvY2Vzcy5lbnYuVlVFX0FQUF9ERUZBVUxUX0FVVEggPT09ICJmaXJlYmFzZSIpIHsKICAgIC8vIENoZWNrIGlmIGF1dGggaXMgcmVxdWlyZWQgb24gdGhpcyByb3V0ZQogICAgLy8gKGluY2x1ZGluZyBuZXN0ZWQgcm91dGVzKS4KICAgIGNvbnN0IGF1dGhSZXF1aXJlZCA9IHJvdXRlVG8ubWF0Y2hlZC5zb21lKHJvdXRlID0+IHJvdXRlLm1ldGEuYXV0aFJlcXVpcmVkKTsgLy8gSWYgYXV0aCBpc24ndCByZXF1aXJlZCBmb3IgdGhlIHJvdXRlLCBqdXN0IGNvbnRpbnVlLgoKICAgIGlmICghYXV0aFJlcXVpcmVkKSByZXR1cm4gbmV4dCgpOyAvLyBJZiBhdXRoIGlzIHJlcXVpcmVkIGFuZCB0aGUgdXNlciBpcyBsb2dnZWQgaW4uLi4KCiAgICBpZiAoc3RvcmUuZ2V0dGVyc1snYXV0aC9sb2dnZWRJbiddKSB7CiAgICAgIC8vIFZhbGlkYXRlIHRoZSBsb2NhbCB1c2VyIHRva2VuLi4uCiAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnYXV0aC92YWxpZGF0ZScpLnRoZW4odmFsaWRVc2VyID0+IHsKICAgICAgICAvLyBUaGVuIGNvbnRpbnVlIGlmIHRoZSB0b2tlbiBzdGlsbCByZXByZXNlbnRzIGEgdmFsaWQgdXNlciwKICAgICAgICAvLyBvdGhlcndpc2UgcmVkaXJlY3QgdG8gbG9naW4uCiAgICAgICAgdmFsaWRVc2VyID8gbmV4dCgpIDogcmVkaXJlY3RUb0xvZ2luKCk7CiAgICAgIH0pOwogICAgfSAvLyBJZiBhdXRoIGlzIHJlcXVpcmVkIGFuZCB0aGUgdXNlciBpcyBOT1QgY3VycmVudGx5IGxvZ2dlZCBpbiwKICAgIC8vIHJlZGlyZWN0IHRvIGxvZ2luLgoKCiAgICByZWRpcmVjdFRvTG9naW4oKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5uZXItZGVjbGFyYXRpb25zCgogICAgZnVuY3Rpb24gcmVkaXJlY3RUb0xvZ2luKCkgewogICAgICAvLyBQYXNzIHRoZSBvcmlnaW5hbCByb3V0ZSB0byB0aGUgbG9naW4gY29tcG9uZW50CiAgICAgIG5leHQoewogICAgICAgIG5hbWU6ICdsb2dpbicsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHJlZGlyZWN0RnJvbTogcm91dGVUby5mdWxsUGF0aAogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5WVUVfQVBQX0RFRkFVTFRfQVVUSCA9PT0gImZha2ViYWNrZW5kIikgewogICAgY29uc3QgcHVibGljUGFnZXMgPSBbJy9hdXRoL2xvZ2luLTEnLCAnL3JlZ2lzdGVyJywgJy9mb3Jnb3QtcGFzc3dvcmQnXTsKICAgIGNvbnN0IGF1dGhwYWdlID0gIXB1YmxpY1BhZ2VzLmluY2x1ZGVzKHJvdXRlVG8ucGF0aCk7CiAgICBjb25zdCBsb2dnZWR1c2VyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKTsKCiAgICBpZiAoYXV0aHBhZ2UgJiYgIWxvZ2dlZHVzZXIpIHsKICAgICAgcmV0dXJuIG5leHQoJy9sb2dpbicpOwogICAgfQoKICAgIG5leHQoKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"names":["Vue","VueRouter","VueMeta","store","routes","use","keyName","router","mode","scrollBehavior","to","from","savedPosition","x","y","beforeEach","routeTo","routeFrom","next","process","env","VUE_APP_DEFAULT_AUTH","authRequired","matched","some","route","meta","getters","dispatch","then","validUser","redirectToLogin","name","query","redirectFrom","fullPath","publicPages","authpage","includes","path","loggeduser","localStorage","getItem"],"sources":["F:/GitWashMe/washme-client/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n\r\nimport VueMeta from 'vue-meta'\r\nimport store from '@/state/store'\r\n\r\nimport routes from './routes'\r\n\r\nVue.use(VueRouter)\r\nVue.use(VueMeta, {\r\n    // The component option name that vue-meta looks for meta info on.\r\n    keyName: 'page',\r\n})\r\n\r\nconst router = new VueRouter({\r\n    routes,\r\n    // Use the HTML5 history API (i.e. normal-looking routes)\r\n    // instead of routes with hashes (e.g. example.com/#/about).\r\n    // This may require some server configuration in production:\r\n    // https://router.vuejs.org/en/essentials/history-mode.html#example-server-configurations\r\n    mode: 'history',\r\n    scrollBehavior(to, from, savedPosition) {\r\n        if (savedPosition) {\r\n            return savedPosition\r\n        } else {\r\n            return {\r\n                x: 0,\r\n                y: 0\r\n            }\r\n        }\r\n    },\r\n})\r\n\r\nrouter.beforeEach((routeTo, routeFrom, next) => {\r\n    if (process.env.VUE_APP_DEFAULT_AUTH === \"firebase\") {\r\n        // Check if auth is required on this route\r\n        // (including nested routes).\r\n        const authRequired = routeTo.matched.some((route) => route.meta.authRequired)\r\n\r\n        // If auth isn't required for the route, just continue.\r\n        if (!authRequired) return next()\r\n\r\n        // If auth is required and the user is logged in...\r\n        if (store.getters['auth/loggedIn']) {\r\n            // Validate the local user token...\r\n            return store.dispatch('auth/validate').then((validUser) => {\r\n                // Then continue if the token still represents a valid user,\r\n                // otherwise redirect to login.\r\n                validUser ? next() : redirectToLogin()\r\n            })\r\n        }\r\n\r\n        // If auth is required and the user is NOT currently logged in,\r\n        // redirect to login.\r\n        redirectToLogin()\r\n\r\n        // eslint-disable-next-line no-unused-vars\r\n        // eslint-disable-next-line no-inner-declarations\r\n        function redirectToLogin() {\r\n            // Pass the original route to the login component\r\n            next({\r\n                name: 'login',\r\n                query: {\r\n                    redirectFrom: routeTo.fullPath\r\n                }\r\n            })\r\n        }\r\n    } else if (process.env.VUE_APP_DEFAULT_AUTH === \"fakebackend\") {\r\n        const publicPages = ['/auth/login-1', '/register', '/forgot-password'];\r\n        const authpage = !publicPages.includes(routeTo.path);\r\n        const loggeduser = localStorage.getItem('user');\r\n\r\n        if (authpage && !loggeduser) {\r\n            return next('/login');\r\n        }\r\n\r\n        next();\r\n    }\r\n})\r\n\r\n\r\nexport default router"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAOC,OAAP,MAAoB,UAApB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAEA,OAAOC,MAAP,MAAmB,UAAnB;AAEAJ,GAAG,CAACK,GAAJ,CAAQJ,SAAR;AACAD,GAAG,CAACK,GAAJ,CAAQH,OAAR,EAAiB;EACb;EACAI,OAAO,EAAE;AAFI,CAAjB;AAKA,MAAMC,MAAM,GAAG,IAAIN,SAAJ,CAAc;EACzBG,MADyB;EAEzB;EACA;EACA;EACA;EACAI,IAAI,EAAE,SANmB;;EAOzBC,cAAc,CAACC,EAAD,EAAKC,IAAL,EAAWC,aAAX,EAA0B;IACpC,IAAIA,aAAJ,EAAmB;MACf,OAAOA,aAAP;IACH,CAFD,MAEO;MACH,OAAO;QACHC,CAAC,EAAE,CADA;QAEHC,CAAC,EAAE;MAFA,CAAP;IAIH;EACJ;;AAhBwB,CAAd,CAAf;AAmBAP,MAAM,CAACQ,UAAP,CAAkB,CAACC,OAAD,EAAUC,SAAV,EAAqBC,IAArB,KAA8B;EAC5C,IAAIC,OAAO,CAACC,GAAR,CAAYC,oBAAZ,KAAqC,UAAzC,EAAqD;IACjD;IACA;IACA,MAAMC,YAAY,GAAGN,OAAO,CAACO,OAAR,CAAgBC,IAAhB,CAAsBC,KAAD,IAAWA,KAAK,CAACC,IAAN,CAAWJ,YAA3C,CAArB,CAHiD,CAKjD;;IACA,IAAI,CAACA,YAAL,EAAmB,OAAOJ,IAAI,EAAX,CAN8B,CAQjD;;IACA,IAAIf,KAAK,CAACwB,OAAN,CAAc,eAAd,CAAJ,EAAoC;MAChC;MACA,OAAOxB,KAAK,CAACyB,QAAN,CAAe,eAAf,EAAgCC,IAAhC,CAAsCC,SAAD,IAAe;QACvD;QACA;QACAA,SAAS,GAAGZ,IAAI,EAAP,GAAYa,eAAe,EAApC;MACH,CAJM,CAAP;IAKH,CAhBgD,CAkBjD;IACA;;;IACAA,eAAe,GApBkC,CAsBjD;IACA;;IACA,SAASA,eAAT,GAA2B;MACvB;MACAb,IAAI,CAAC;QACDc,IAAI,EAAE,OADL;QAEDC,KAAK,EAAE;UACHC,YAAY,EAAElB,OAAO,CAACmB;QADnB;MAFN,CAAD,CAAJ;IAMH;EACJ,CAjCD,MAiCO,IAAIhB,OAAO,CAACC,GAAR,CAAYC,oBAAZ,KAAqC,aAAzC,EAAwD;IAC3D,MAAMe,WAAW,GAAG,CAAC,eAAD,EAAkB,WAAlB,EAA+B,kBAA/B,CAApB;IACA,MAAMC,QAAQ,GAAG,CAACD,WAAW,CAACE,QAAZ,CAAqBtB,OAAO,CAACuB,IAA7B,CAAlB;IACA,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAnB;;IAEA,IAAIL,QAAQ,IAAI,CAACG,UAAjB,EAA6B;MACzB,OAAOtB,IAAI,CAAC,QAAD,CAAX;IACH;;IAEDA,IAAI;EACP;AACJ,CA7CD;AAgDA,eAAeX,MAAf"}]}