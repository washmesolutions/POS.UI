{"remainingRequest":"F:\\GitWashMe\\washme-client\\node_modules\\babel-loader\\lib\\index.js!F:\\GitWashMe\\washme-client\\node_modules\\eslint-loader\\index.js??ref--14-0!F:\\GitWashMe\\washme-client\\src\\api\\authentication\\authapi.js","dependencies":[{"path":"F:\\GitWashMe\\washme-client\\src\\api\\authentication\\authapi.js","mtime":1672237329790},{"path":"F:\\GitWashMe\\washme-client\\babel.config.js","mtime":1660375532796},{"path":"F:\\GitWashMe\\washme-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\GitWashMe\\washme-client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\GitWashMe\\washme-client\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBhdXRob3JpemF0aW9uU2VydmljZVVybCB9IGZyb20gJy4vdXJsLmpzJzsKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgbWV0aG9kczogewogICAgYXV0aGVudGljYXRlKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykgewogICAgICBjb25zdCBVUkwgPSBgJHthdXRob3JpemF0aW9uU2VydmljZVVybH0vQXV0aC9DaGVja0xvZ2luYDsKICAgICAgYXhpb3MuZ2V0KFVSTCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKTsKICAgICAgICB2YXIgY3VycmVudFVSTCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICIvLyIgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTsKICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoewogICAgICAgICAgcGF0aDogY3VycmVudFVSTAogICAgICAgIH0sICcnLCBjdXJyZW50VVJMKTsKICAgICAgICBWdWUucHJvdG90eXBlLiR1c2VyID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAzICYmIHJlc3BvbnNlLmJvZHkgJiYgcmVzcG9uc2UuYm9keS5NZXNzYWdlICYmIHJlc3BvbnNlLmJvZHkuTWVzc2FnZS5sZW5ndGgpIHsKICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHJlc3BvbnNlLmJvZHkuTWVzc2FnZTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBpZiAoZXJyb3IpIHsKICAgICAgICAgIHRoaXMucmVkaXJlY3RUb0xvZ2luT25BdXRoRmFpbHVyZShlcnJvci5yZXNwb25zZSk7CiAgICAgICAgfQoKICAgICAgICBlcnJvckNhbGxiYWNrKGVycm9yKTsKICAgICAgfSk7CiAgICB9CgogIH0KfSk7"},{"version":3,"names":["Vue","axios","authorizationServiceUrl","extend","methods","authenticate","successCallback","errorCallback","URL","get","then","response","currentURL","window","location","protocol","host","pathname","history","pushState","path","prototype","$user","data","status","body","Message","length","catch","error","redirectToLoginOnAuthFailure"],"sources":["F:/GitWashMe/washme-client/src/api/authentication/authapi.js"],"sourcesContent":["import Vue from 'vue'\r\nimport axios from 'axios'\r\nimport { authorizationServiceUrl } from './url.js'\r\n\r\nexport default Vue.extend({\r\n    methods: {\r\n        authenticate(successCallback, errorCallback) {\r\n            const URL = `${authorizationServiceUrl}/Auth/CheckLogin`\r\n            axios.get(URL).then(response => {\r\n              successCallback(response)\r\n              var currentURL = window.location.protocol + \"//\" + window.location.host + window.location.pathname\r\n              window.history.pushState({ path: currentURL }, '', currentURL)\r\n              Vue.prototype.$user = response.data\r\n              if (response && response.status === 403 && response.body && response.body.Message && response.body.Message.length) {\r\n                window.location = response.body.Message\r\n              }\r\n            }).catch(error => {\r\n              if(error){\r\n                this.redirectToLoginOnAuthFailure(error.response)\r\n              }\r\n              errorCallback(error)\r\n            })\r\n          },\r\n    }\r\n})"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,uBAAT,QAAwC,UAAxC;AAEA,eAAeF,GAAG,CAACG,MAAJ,CAAW;EACtBC,OAAO,EAAE;IACLC,YAAY,CAACC,eAAD,EAAkBC,aAAlB,EAAiC;MACzC,MAAMC,GAAG,GAAI,GAAEN,uBAAwB,kBAAvC;MACAD,KAAK,CAACQ,GAAN,CAAUD,GAAV,EAAeE,IAAf,CAAoBC,QAAQ,IAAI;QAC9BL,eAAe,CAACK,QAAD,CAAf;QACA,IAAIC,UAAU,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2B,IAA3B,GAAkCF,MAAM,CAACC,QAAP,CAAgBE,IAAlD,GAAyDH,MAAM,CAACC,QAAP,CAAgBG,QAA1F;QACAJ,MAAM,CAACK,OAAP,CAAeC,SAAf,CAAyB;UAAEC,IAAI,EAAER;QAAR,CAAzB,EAA+C,EAA/C,EAAmDA,UAAnD;QACAZ,GAAG,CAACqB,SAAJ,CAAcC,KAAd,GAAsBX,QAAQ,CAACY,IAA/B;;QACA,IAAIZ,QAAQ,IAAIA,QAAQ,CAACa,MAAT,KAAoB,GAAhC,IAAuCb,QAAQ,CAACc,IAAhD,IAAwDd,QAAQ,CAACc,IAAT,CAAcC,OAAtE,IAAiFf,QAAQ,CAACc,IAAT,CAAcC,OAAd,CAAsBC,MAA3G,EAAmH;UACjHd,MAAM,CAACC,QAAP,GAAkBH,QAAQ,CAACc,IAAT,CAAcC,OAAhC;QACD;MACF,CARD,EAQGE,KARH,CAQSC,KAAK,IAAI;QAChB,IAAGA,KAAH,EAAS;UACP,KAAKC,4BAAL,CAAkCD,KAAK,CAAClB,QAAxC;QACD;;QACDJ,aAAa,CAACsB,KAAD,CAAb;MACD,CAbD;IAcD;;EAjBE;AADa,CAAX,CAAf"}]}