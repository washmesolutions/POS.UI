{"remainingRequest":"F:\\GitWashMe\\washme-client\\node_modules\\babel-loader\\lib\\index.js!F:\\GitWashMe\\washme-client\\node_modules\\eslint-loader\\index.js??ref--14-0!F:\\GitWashMe\\washme-client\\src\\router\\index.js","dependencies":[{"path":"F:\\GitWashMe\\washme-client\\src\\router\\index.js","mtime":1672248972905},{"path":"F:\\GitWashMe\\washme-client\\babel.config.js","mtime":1660375532796},{"path":"F:\\GitWashMe\\washme-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\GitWashMe\\washme-client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\GitWashMe\\washme-client\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgVnVlTWV0YSBmcm9tICd2dWUtbWV0YSc7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0YXRlL3N0b3JlJzsKaW1wb3J0IHJvdXRlcyBmcm9tICcuL3JvdXRlcyc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBBdXRoIGZyb20gJ0AvYXBpL2F1dGhlbnRpY2F0aW9uL2F1dGhhcGkuanMnOwp2YXIgYXV0aEFwaSA9IG5ldyBBdXRoKCk7IC8vVnVlLnVzZSh2dWV4STE4bi5wbHVnaW4sIHN0b3JlKQoKYXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGNvbmZpZyA9PiB7CiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09ICdkZXZlbG9wbWVudCcpIHsKICAgIGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgPSB0cnVlOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSk7ClZ1ZS51c2UoVnVlUm91dGVyKTsKVnVlLnVzZShWdWVNZXRhLCB7CiAgLy8gVGhlIGNvbXBvbmVudCBvcHRpb24gbmFtZSB0aGF0IHZ1ZS1tZXRhIGxvb2tzIGZvciBtZXRhIGluZm8gb24uCiAga2V5TmFtZTogJ3BhZ2UnCn0pOwpjb25zdCByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICByb3V0ZXMsCiAgLy8gVXNlIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSAoaS5lLiBub3JtYWwtbG9va2luZyByb3V0ZXMpCiAgLy8gaW5zdGVhZCBvZiByb3V0ZXMgd2l0aCBoYXNoZXMgKGUuZy4gZXhhbXBsZS5jb20vIy9hYm91dCkuCiAgLy8gVGhpcyBtYXkgcmVxdWlyZSBzb21lIHNlcnZlciBjb25maWd1cmF0aW9uIGluIHByb2R1Y3Rpb246CiAgLy8gaHR0cHM6Ly9yb3V0ZXIudnVlanMub3JnL2VuL2Vzc2VudGlhbHMvaGlzdG9yeS1tb2RlLmh0bWwjZXhhbXBsZS1zZXJ2ZXItY29uZmlndXJhdGlvbnMKICBtb2RlOiAnaGlzdG9yeScsCgogIHNjcm9sbEJlaGF2aW9yKHRvLCBmcm9tLCBzYXZlZFBvc2l0aW9uKSB7CiAgICBpZiAoc2F2ZWRQb3NpdGlvbikgewogICAgICByZXR1cm4gc2F2ZWRQb3NpdGlvbjsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgeDogMCwKICAgICAgICB5OiAwCiAgICAgIH07CiAgICB9CiAgfQoKfSk7CnJvdXRlci5iZWZvcmVFYWNoKChyb3V0ZVRvLCByb3V0ZUZyb20sIG5leHQpID0+IHsKICBpZiAocHJvY2Vzcy5lbnYuVlVFX0FQUF9ERUZBVUxUX0FVVEggPT09ICJmaXJlYmFzZSIpIHsKICAgIC8vIENoZWNrIGlmIGF1dGggaXMgcmVxdWlyZWQgb24gdGhpcyByb3V0ZQogICAgLy8gKGluY2x1ZGluZyBuZXN0ZWQgcm91dGVzKS4KICAgIGNvbnN0IGF1dGhSZXF1aXJlZCA9IHJvdXRlVG8ubWF0Y2hlZC5zb21lKHJvdXRlID0+IHJvdXRlLm1ldGEuYXV0aFJlcXVpcmVkKTsgLy8gSWYgYXV0aCBpc24ndCByZXF1aXJlZCBmb3IgdGhlIHJvdXRlLCBqdXN0IGNvbnRpbnVlLgoKICAgIGlmICghYXV0aFJlcXVpcmVkKSByZXR1cm4gbmV4dCgpOyAvLyBJZiBhdXRoIGlzIHJlcXVpcmVkIGFuZCB0aGUgdXNlciBpcyBsb2dnZWQgaW4uLi4KCiAgICBpZiAoc3RvcmUuZ2V0dGVyc1snYXV0aC9sb2dnZWRJbiddKSB7CiAgICAgIC8vIFZhbGlkYXRlIHRoZSBsb2NhbCB1c2VyIHRva2VuLi4uCiAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnYXV0aC92YWxpZGF0ZScpLnRoZW4odmFsaWRVc2VyID0+IHsKICAgICAgICAvLyBUaGVuIGNvbnRpbnVlIGlmIHRoZSB0b2tlbiBzdGlsbCByZXByZXNlbnRzIGEgdmFsaWQgdXNlciwKICAgICAgICAvLyBvdGhlcndpc2UgcmVkaXJlY3QgdG8gbG9naW4uCiAgICAgICAgdmFsaWRVc2VyID8gbmV4dCgpIDogcmVkaXJlY3RUb0xvZ2luKCk7CiAgICAgIH0pOwogICAgfSAvLyBJZiBhdXRoIGlzIHJlcXVpcmVkIGFuZCB0aGUgdXNlciBpcyBOT1QgY3VycmVudGx5IGxvZ2dlZCBpbiwKICAgIC8vIHJlZGlyZWN0IHRvIGxvZ2luLgoKCiAgICByZWRpcmVjdFRvTG9naW4oKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5uZXItZGVjbGFyYXRpb25zCgogICAgZnVuY3Rpb24gcmVkaXJlY3RUb0xvZ2luKCkgewogICAgICAvLyBQYXNzIHRoZSBvcmlnaW5hbCByb3V0ZSB0byB0aGUgbG9naW4gY29tcG9uZW50CiAgICAgIG5leHQoewogICAgICAgIG5hbWU6ICdsb2dpbicsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHJlZGlyZWN0RnJvbTogcm91dGVUby5mdWxsUGF0aAogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5WVUVfQVBQX0RFRkFVTFRfQVVUSCA9PT0gImZha2ViYWNrZW5kIikgewogICAgY29uc3QgcHVibGljUGFnZXMgPSBbJy9sb2dpbicsICcvcmVnaXN0ZXInLCAnL2ZvcmdvdC1wYXNzd29yZCddOwogICAgY29uc3QgYXV0aHBhZ2UgPSAhcHVibGljUGFnZXMuaW5jbHVkZXMocm91dGVUby5wYXRoKTsKICAgIGNvbnN0IGxvZ2dlZHVzZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpOyAvL2NvbnN0IGF1dGhwYWdlID0gZmFsc2UKICAgIC8vY29uc3QgbG9nZ2VkdXNlciA9ICIiCgogICAgaWYgKGF1dGhwYWdlICYmICFsb2dnZWR1c2VyKSB7CiAgICAgIHJldHVybiBuZXh0KCcvbG9naW4nKTsKICAgIH0KCiAgICBuZXh0KCk7CiAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5WVUVfQVBQX0RFRkFVTFRfQVVUSCA9PT0gImZha2ViYWNrZW5kMiIpIHsKICAgIGlmICh0by5uYW1lICE9PSAnRXJyb3InKSB7CiAgICAgIGF1dGhBcGkuYXV0aGVudGljYXRlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGRvY3VtZW50LnRpdGxlID0gcmVzcG9uc2UuZGF0YS5wb3J0YWxOYW1lOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBuZXh0KCk7CiAgICB9CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"names":["Vue","VueRouter","VueMeta","store","routes","axios","Auth","authApi","interceptors","request","use","config","process","env","NODE_ENV","withCredentials","keyName","router","mode","scrollBehavior","to","from","savedPosition","x","y","beforeEach","routeTo","routeFrom","next","VUE_APP_DEFAULT_AUTH","authRequired","matched","some","route","meta","getters","dispatch","then","validUser","redirectToLogin","name","query","redirectFrom","fullPath","publicPages","authpage","includes","path","loggeduser","localStorage","getItem","authenticate","response","document","title","data","portalName","error","console"],"sources":["F:/GitWashMe/washme-client/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport VueMeta from 'vue-meta'\r\nimport store from '@/state/store'\r\nimport routes from './routes'\r\nimport axios from 'axios'\r\nimport Auth from '@/api/authentication/authapi.js'\r\n\r\nvar authApi = new Auth()\r\n//Vue.use(vuexI18n.plugin, store)\r\n\r\naxios.interceptors.request.use(\r\n    config => {\r\n        if(process.env.NODE_ENV == 'development'){\r\n          config.withCredentials = true\r\n        }\r\n        return config;\r\n    });\r\n\r\nVue.use(VueRouter)\r\nVue.use(VueMeta, {\r\n    // The component option name that vue-meta looks for meta info on.\r\n    keyName: 'page',\r\n})\r\n\r\nconst router = new VueRouter({\r\n    routes,\r\n    // Use the HTML5 history API (i.e. normal-looking routes)\r\n    // instead of routes with hashes (e.g. example.com/#/about).\r\n    // This may require some server configuration in production:\r\n    // https://router.vuejs.org/en/essentials/history-mode.html#example-server-configurations\r\n    mode: 'history',\r\n    scrollBehavior(to, from, savedPosition) {\r\n        if (savedPosition) {\r\n            return savedPosition\r\n        } else {\r\n            return {\r\n                x: 0,\r\n                y: 0\r\n            }\r\n        }\r\n    },\r\n})\r\n\r\nrouter.beforeEach((routeTo, routeFrom, next) => {\r\n    if (process.env.VUE_APP_DEFAULT_AUTH === \"firebase\") {\r\n        // Check if auth is required on this route\r\n        // (including nested routes).\r\n        const authRequired = routeTo.matched.some((route) => route.meta.authRequired)\r\n\r\n        // If auth isn't required for the route, just continue.\r\n        if (!authRequired) return next()\r\n\r\n        // If auth is required and the user is logged in...\r\n        if (store.getters['auth/loggedIn']) {\r\n            // Validate the local user token...\r\n            return store.dispatch('auth/validate').then((validUser) => {\r\n                // Then continue if the token still represents a valid user,\r\n                // otherwise redirect to login.\r\n                validUser ? next() : redirectToLogin()\r\n            })\r\n        }\r\n\r\n        // If auth is required and the user is NOT currently logged in,\r\n        // redirect to login.\r\n        redirectToLogin()\r\n\r\n        // eslint-disable-next-line no-unused-vars\r\n        // eslint-disable-next-line no-inner-declarations\r\n        function redirectToLogin() {\r\n            // Pass the original route to the login component\r\n            next({\r\n                name: 'login',\r\n                query: {\r\n                    redirectFrom: routeTo.fullPath\r\n                }\r\n            })\r\n        }\r\n    } else if (process.env.VUE_APP_DEFAULT_AUTH === \"fakebackend\") {\r\n        const publicPages = ['/login', '/register', '/forgot-password'];\r\n        const authpage = !publicPages.includes(routeTo.path);\r\n        const loggeduser = localStorage.getItem('user');\r\n\r\n        //const authpage = false\r\n        //const loggeduser = \"\"\r\n        if (authpage && !loggeduser) {\r\n            return next('/login');\r\n        }\r\n\r\n        next();\r\n    } else if (process.env.VUE_APP_DEFAULT_AUTH === \"fakebackend2\") {\r\n        if (to.name !== 'Error') {\r\n            authApi.authenticate(function (response) {\r\n                document.title = response.data.portalName\r\n            }, function(error) {\r\n                console.error(error)\r\n            })\r\n        } else {\r\n            next()\r\n        }\r\n    }\r\n})\r\n\r\n\r\nexport default router"],"mappings":"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"}]}