{"remainingRequest":"F:\\GitWashMe\\washme-client\\node_modules\\thread-loader\\dist\\cjs.js!F:\\GitWashMe\\washme-client\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!F:\\GitWashMe\\washme-client\\node_modules\\eslint-loader\\index.js??ref--14-0!F:\\GitWashMe\\washme-client\\src\\api\\authentication\\authapi.js","dependencies":[{"path":"F:\\GitWashMe\\washme-client\\src\\api\\authentication\\authapi.js","mtime":1672314231588},{"path":"F:\\GitWashMe\\washme-client\\babel.config.js","mtime":1660375532796},{"path":"F:\\GitWashMe\\washme-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\GitWashMe\\washme-client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\GitWashMe\\washme-client\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"F:\\GitWashMe\\washme-client\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBhdXRob3JpemF0aW9uU2VydmljZVVybCB9IGZyb20gJy4vLi4vdXJsLmpzJzsKZXhwb3J0IGRlZmF1bHQgVnVlLmV4dGVuZCh7CiAgbWV0aG9kczogewogICAgYXV0aGVudGljYXRlKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykgewogICAgICBjb25zdCBVUkwgPSBgJHthdXRob3JpemF0aW9uU2VydmljZVVybH0vQXV0aC9DaGVja0xvZ2luYDsKICAgICAgYXhpb3MuZ2V0KFVSTCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKTsKICAgICAgICB2YXIgY3VycmVudFVSTCA9IHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7CiAgICAgICAgICBwYXRoOiBjdXJyZW50VVJMCiAgICAgICAgfSwgJycsIGN1cnJlbnRVUkwpOwogICAgICAgIFZ1ZS5wcm90b3R5cGUuJHVzZXIgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzID09PSA0MDMgJiYgcmVzcG9uc2UuYm9keSAmJiByZXNwb25zZS5ib2R5Lk1lc3NhZ2UgJiYgcmVzcG9uc2UuYm9keS5NZXNzYWdlLmxlbmd0aCkgewogICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gcmVzcG9uc2UuYm9keS5NZXNzYWdlOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGlmIChlcnJvcikgewogICAgICAgICAgdGhpcy5yZWRpcmVjdFRvTG9naW5PbkF1dGhGYWlsdXJlKGVycm9yLnJlc3BvbnNlKTsKICAgICAgICB9CgogICAgICAgIGVycm9yQ2FsbGJhY2soZXJyb3IpOwogICAgICB9KTsKICAgIH0sCgogICAgcmVkaXJlY3RUb0xvZ2luT25BdXRoRmFpbHVyZTogZnVuY3Rpb24gKGF1dGhFeGNlcHRpb24pIHsKICAgICAgaWYgKGF1dGhFeGNlcHRpb24gJiYgYXV0aEV4Y2VwdGlvbi5zdGF0dXMgPT09IDQwMyAmJiBhdXRoRXhjZXB0aW9uLmRhdGEgJiYgYXV0aEV4Y2VwdGlvbi5kYXRhLlJlZGlyZWN0TG9jYXRpb24pIHsKICAgICAgICB2YXIgbG9jYXRpb24gPSBhdXRoRXhjZXB0aW9uLmRhdGEuUmVkaXJlY3RMb2NhdGlvbjsKICAgICAgICB2YXIgc2FtbFJlcXVlc3QgPSBhdXRoRXhjZXB0aW9uLmRhdGEuU0FNTFJlcXVlc3Q7CgogICAgICAgIGlmIChzYW1sUmVxdWVzdCAmJiBzYW1sUmVxdWVzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2FtbF9zcGluaXRfc2FtbHJlcXVlc3QnKS52YWx1ZSA9IHNhbWxSZXF1ZXN0OwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhbWxfc3Bpbml0X3Bvc3QnKS5zZXRBdHRyaWJ1dGUoJ2FjdGlvbicsIGxvY2F0aW9uKTsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYW1sX3NwaW5pdF9wb3N0Jykuc3VibWl0KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IGxvY2F0aW9uOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBMb2dpbih1c2VyT2JqZWN0LCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHsKICAgICAgY29uc3QgVVJMID0gYCR7YXV0aG9yaXphdGlvblNlcnZpY2VVcmx9L0F1dGgvTG9naW5gOwogICAgICBheGlvcy5wb3N0KFVSTCwgdXNlck9iamVjdCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGVycm9yQ2FsbGJhY2soZXJyb3IpOwogICAgICB9KTsKICAgIH0KCiAgfQp9KTs="},{"version":3,"names":["Vue","axios","authorizationServiceUrl","extend","methods","authenticate","successCallback","errorCallback","URL","get","then","response","currentURL","window","history","pushState","path","prototype","$user","data","status","body","Message","length","location","catch","error","redirectToLoginOnAuthFailure","authException","RedirectLocation","samlRequest","SAMLRequest","document","getElementById","value","setAttribute","submit","Login","userObject","post"],"sources":["F:/GitWashMe/washme-client/src/api/authentication/authapi.js"],"sourcesContent":["import Vue from 'vue'\r\nimport axios from 'axios'\r\nimport { authorizationServiceUrl } from './../url.js'\r\n\r\nexport default Vue.extend({\r\n    methods: {\r\n        authenticate(successCallback, errorCallback) {\r\n            const URL = `${authorizationServiceUrl}/Auth/CheckLogin`\r\n            axios.get(URL).then(response => {\r\n              successCallback(response)\r\n              var currentURL = window.history.pushState({ path: currentURL }, '', currentURL)\r\n              Vue.prototype.$user = response.data\r\n              if (response && response.status === 403 && response.body && response.body.Message && response.body.Message.length) {\r\n                window.location = response.body.Message\r\n              }\r\n            }).catch(error => {\r\n              if(error){\r\n                this.redirectToLoginOnAuthFailure(error.response)\r\n              }\r\n              errorCallback(error)\r\n            })\r\n          },\r\n        redirectToLoginOnAuthFailure: function (authException) {\r\n            if (authException && authException.status === 403 && authException.data && authException.data.RedirectLocation) {\r\n              var location = authException.data.RedirectLocation\r\n              var samlRequest = authException.data.SAMLRequest\r\n              if (samlRequest && samlRequest.length > 0) {\r\n                document.getElementById('saml_spinit_samlrequest').value = samlRequest\r\n                document.getElementById('saml_spinit_post').setAttribute('action', location)\r\n                document.getElementById('saml_spinit_post').submit()\r\n              } else {\r\n                window.location = location\r\n              }\r\n            }\r\n        },\r\n        Login(userObject, successCallback, errorCallback) {\r\n            const URL = `${authorizationServiceUrl}/Auth/Login`\r\n            axios.post(URL, userObject).then(response => {\r\n              successCallback(response)\r\n            }).catch(error => {\r\n              errorCallback(error)\r\n            })\r\n        },\r\n    }\r\n})"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,uBAAT,QAAwC,aAAxC;AAEA,eAAeF,GAAG,CAACG,MAAJ,CAAW;EACtBC,OAAO,EAAE;IACLC,YAAY,CAACC,eAAD,EAAkBC,aAAlB,EAAiC;MACzC,MAAMC,GAAG,GAAI,GAAEN,uBAAwB,kBAAvC;MACAD,KAAK,CAACQ,GAAN,CAAUD,GAAV,EAAeE,IAAf,CAAoBC,QAAQ,IAAI;QAC9BL,eAAe,CAACK,QAAD,CAAf;QACA,IAAIC,UAAU,GAAGC,MAAM,CAACC,OAAP,CAAeC,SAAf,CAAyB;UAAEC,IAAI,EAAEJ;QAAR,CAAzB,EAA+C,EAA/C,EAAmDA,UAAnD,CAAjB;QACAZ,GAAG,CAACiB,SAAJ,CAAcC,KAAd,GAAsBP,QAAQ,CAACQ,IAA/B;;QACA,IAAIR,QAAQ,IAAIA,QAAQ,CAACS,MAAT,KAAoB,GAAhC,IAAuCT,QAAQ,CAACU,IAAhD,IAAwDV,QAAQ,CAACU,IAAT,CAAcC,OAAtE,IAAiFX,QAAQ,CAACU,IAAT,CAAcC,OAAd,CAAsBC,MAA3G,EAAmH;UACjHV,MAAM,CAACW,QAAP,GAAkBb,QAAQ,CAACU,IAAT,CAAcC,OAAhC;QACD;MACF,CAPD,EAOGG,KAPH,CAOSC,KAAK,IAAI;QAChB,IAAGA,KAAH,EAAS;UACP,KAAKC,4BAAL,CAAkCD,KAAK,CAACf,QAAxC;QACD;;QACDJ,aAAa,CAACmB,KAAD,CAAb;MACD,CAZD;IAaD,CAhBE;;IAiBLC,4BAA4B,EAAE,UAAUC,aAAV,EAAyB;MACnD,IAAIA,aAAa,IAAIA,aAAa,CAACR,MAAd,KAAyB,GAA1C,IAAiDQ,aAAa,CAACT,IAA/D,IAAuES,aAAa,CAACT,IAAd,CAAmBU,gBAA9F,EAAgH;QAC9G,IAAIL,QAAQ,GAAGI,aAAa,CAACT,IAAd,CAAmBU,gBAAlC;QACA,IAAIC,WAAW,GAAGF,aAAa,CAACT,IAAd,CAAmBY,WAArC;;QACA,IAAID,WAAW,IAAIA,WAAW,CAACP,MAAZ,GAAqB,CAAxC,EAA2C;UACzCS,QAAQ,CAACC,cAAT,CAAwB,yBAAxB,EAAmDC,KAAnD,GAA2DJ,WAA3D;UACAE,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CE,YAA5C,CAAyD,QAAzD,EAAmEX,QAAnE;UACAQ,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CG,MAA5C;QACD,CAJD,MAIO;UACLvB,MAAM,CAACW,QAAP,GAAkBA,QAAlB;QACD;MACF;IACJ,CA7BI;;IA8BLa,KAAK,CAACC,UAAD,EAAahC,eAAb,EAA8BC,aAA9B,EAA6C;MAC9C,MAAMC,GAAG,GAAI,GAAEN,uBAAwB,aAAvC;MACAD,KAAK,CAACsC,IAAN,CAAW/B,GAAX,EAAgB8B,UAAhB,EAA4B5B,IAA5B,CAAiCC,QAAQ,IAAI;QAC3CL,eAAe,CAACK,QAAD,CAAf;MACD,CAFD,EAEGc,KAFH,CAESC,KAAK,IAAI;QAChBnB,aAAa,CAACmB,KAAD,CAAb;MACD,CAJD;IAKH;;EArCI;AADa,CAAX,CAAf"}]}